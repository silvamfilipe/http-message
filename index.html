<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Http-message by silvamfilipe</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Http-message</h1>
        <h2>PSR Http Message compliant package</h2>

        <section id="downloads">
          <a href="https://github.com/silvamfilipe/http-message/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/silvamfilipe/http-message/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/silvamfilipe/http-message" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="http-message" class="anchor" href="#http-message" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTTP Message</h1>

<p><a href="https://github.com/silvamfilipe/http-message/releases"><img src="https://img.shields.io/github/release/silvamfilipe/http-message.svg?style=flat-square" alt="Latest Version"></a>
<a href="LICENSE.md"><img src="https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat-square" alt="Software License"></a>
<a href="https://travis-ci.org/silvamfilipe/http-message"><img src="https://img.shields.io/travis/silvamfilipe/http-message/master.svg?style=flat-square" alt="Build Status"></a>
<a href="https://scrutinizer-ci.com/g/silvamfilipe/http-message/code-structure"><img src="https://img.shields.io/scrutinizer/coverage/g/silvamfilipe/http-message.svg?style=flat-square" alt="Coverage Status"></a>
<a href="https://scrutinizer-ci.com/g/silvamfilipe/http-message"><img src="https://img.shields.io/scrutinizer/g/silvamfilipe/http-message.svg?style=flat-square" alt="Quality Score"></a>
<a href="https://packagist.org/packages/silvamfilipe/http-message"><img src="https://img.shields.io/packagist/dt/silvamfilipe/http-message.svg?style=flat-square" alt="Total Downloads"></a></p>

<p>PSR Http Message compliant package. The goal is to have an HTTP message abstraction
that can be used to implement a request/response strategy application.</p>

<p>This package is compliant with PSR-2 code standards and PSR-4 autoload standards. It
also applies the <a href="http://semver.org">semantic version 2.0.0</a> specification.</p>

<h2>
<a id="installing-via-composer" class="anchor" href="#installing-via-composer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing via Composer</h2>

<p>The recommended way to install <code>Fsilva\HttpMessage</code> package is through
<a href="https://getcomposer.org/">Composer</a>.</p>

<div class="highlight highlight-bash"><pre><span class="pl-c"># Install Composer</span>
curl -sS https://getcomposer.org/installer <span class="pl-k">|</span> php</pre></div>

<p>You can add <code>Fsilva\HttpMessage</code> package as a dependency using the composer.phar CLI:</p>

<div class="highlight highlight-bash"><pre>$ composer require fsilva/http-message</pre></div>

<p>Alternatively, you can <code>Fsilva\HttpMessage</code> package as a dependency in your
projectâ€™s existing composer.json file:</p>

<div class="highlight highlight-javascript"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>require<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>fsilva/http-message<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>
    }
}  </pre></div>

<h2>
<a id="basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic usage</h2>

<h3>
<a id="creating-a-very-basic-http-message" class="anchor" href="#creating-a-very-basic-http-message" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a very basic HTTP message</h3>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">Fsilva/HttpMessage/Message</span>;</span>
<span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">Fsilva/HttpMessage/Stream/Buffer</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-vo">$message</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-s3">Message</span>();</span>
<span class="pl-s2"><span class="pl-vo">$body</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-s3">Buffer</span>();</span>
<span class="pl-s2"><span class="pl-vo">$body</span><span class="pl-k">-&gt;</span>write(<span class="pl-s3">json_encode</span>([<span class="pl-s1"><span class="pl-pds">'</span>some<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s1"><span class="pl-pds">'</span>value<span class="pl-pds">'</span></span>]));</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-vo">$request</span> <span class="pl-k">=</span> <span class="pl-vo">$message</span><span class="pl-k">-&gt;</span>withProtocolVersion(<span class="pl-s3">Message</span><span class="pl-k">::</span><span class="pl-c1">HTTP_1_1</span>)</span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>withHeader(<span class="pl-s1"><span class="pl-pds">'</span>X-Requested-With<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>XMLHttpRequest<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>withHeader(<span class="pl-s1"><span class="pl-pds">'</span>User-Agent<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>PHP Request call<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>withBody(<span class="pl-vo">$body</span>)</span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>withoutHeader(<span class="pl-s1"><span class="pl-pds">'</span>pragma<span class="pl-pds">'</span></span>)</span>
<span class="pl-s2">    <span class="pl-k">-&gt;</span>withAddedHeader(<span class="pl-s1"><span class="pl-pds">'</span>X-Forwarded-For<span class="pl-pds">'</span></span>, [<span class="pl-s1"><span class="pl-pds">'</span>client1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>proxy1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>proxy2<span class="pl-pds">'</span></span>]);</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-vo">$strMessage</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">"</span>GET / HTTP/<span class="pl-pds">"</span></span><span class="pl-k">.</span> <span class="pl-vo">$request</span><span class="pl-k">-&gt;</span>getProtocolVersion();</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-k">foreach</span>(<span class="pl-vo">$request</span><span class="pl-k">-&gt;</span>getHeaders() <span class="pl-k">as</span> <span class="pl-vo">$name</span> <span class="pl-k">=&gt;</span> <span class="pl-vo">$values</span>) {</span>
<span class="pl-s2">    <span class="pl-vo">$strMessage</span> <span class="pl-k">.=</span> <span class="pl-s1"><span class="pl-pds">"</span><span class="pl-cce">\n</span>{<span class="pl-vo">$name</span>}: <span class="pl-pds">"</span></span><span class="pl-k">.</span> <span class="pl-s3">implode</span>(<span class="pl-s1"><span class="pl-pds">'</span>, <span class="pl-pds">'</span></span>, <span class="pl-vo">$values</span>);</span>
<span class="pl-s2">}</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-c">// $strMessage is now a very simple HTTP message.</span></span>
<span class="pl-s2"><span class="pl-vo">$strMessage</span> <span class="pl-k">.=</span> <span class="pl-s1"><span class="pl-pds">"</span><span class="pl-cce">\n\n</span><span class="pl-pds">"</span></span><span class="pl-k">.</span> <span class="pl-vo">$request</span><span class="pl-k">-&gt;</span>getBody()<span class="pl-k">-&gt;</span>getContents();</span>
<span class="pl-s2"></span></pre></div>

<h2>
<a id="testing" class="anchor" href="#testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing</h2>

<div class="highlight highlight-bash"><pre>$ vendor/bin/phpunit</pre></div>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>Please see <a href="https://github.com/silvamfilipe/http-message/blob/master/CONTRIBUTING.md">CONTRIBUTING</a> for details.</p>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h2>

<ul>
<li><a href="https://github.com/silvamfilipe">Filipe Silva</a></li>
<li><a href="https://github.com/silvamfilipe/http-message/contributors">All Contributors</a></li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>The MIT License (MIT). Please see <a href="LICENSE.md">License File</a> for more information.</p>
      </section>
    </div>

    
  </body>
</html>